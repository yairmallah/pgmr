<!DOCTYPE html>
<html lang="he">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>סימולציית תנועה</title>
		<link rel="stylesheet" type="text/css" href="css\general.css"/>
		<link rel="stylesheet" type="text/css" href="css\video.css"/>
        <script type="module" src="https://yairmallah.github.io/pgmr/navLogic.js"></script>
		<script type="module">
			import { darkValues, toggleMode } from "https://yairmallah.github.io/pgmr/displayMode.js";
			// rebind click event to the display mode buttons for path regenerationg
			window.toggleMode = toggleMode;
			requestAnimationFrame(() => {
				try {
					document.getElementById("toggle-light").addEventListener("click", () => {window.toggleMode(false)});
					document.getElementById("toggle-dark").addEventListener("click", () => {window.toggleMode(true)});
				} catch (e) {
					console.log("no display mode button error ", e);
				}
				let isDark = sessionStorage.getItem("isDark") || true;
				toggleMode(isDark);
			});
		</script>
    </head>
    <body>
		<div id="non-pres-container">
			<script>
				
			</script>
			<div id="container">
				<div id="legend">
					<div class="legend" id="sym">
						<table>
							<tr>
								<td>הולכי רגל</td>
								<td><div class="legendColor" style="background-color: #017f3f;"></div></td>
							</tr>
							<tr>
								<td>רכבת</td>
								<td><div class="legendColor" style="background-color: #606000;"></div></td>
							</tr>
							<tr>
								<td>אופנים</td>
								<td><div class="legendColor" style="background-color: #0001be;"></div></td>
							</tr>
							<tr>
								<td>מכוניות</td>
								<td><div class="legendColor" style="background-color: #9f2000;"></div></td>
							</tr>
						</table>
					</div>
				</div>
				<video id="myVideo" controls>
					<source src="imgs\סימולציה.mp4" type="video/mp4">
					Your browser does not support the video tag.
				</video>
				<script>
					document.getElementById("myVideo").play();
				</script>
				<div id="scheme-code" class="code"></div>
				<script>
					fetch("simulationcode.html") // Load the other page
						.then(response => response.text()) // Convert response to text
						.then(html => {
							let parser = new DOMParser();
							let doc = parser.parseFromString(html, "text/html"); // Parse as DOM
							let targetElement = doc.querySelector("#simulation-code"); // Select specific element
							if (targetElement) {
							document.querySelector("#scheme-code").innerHTML = targetElement.innerHTML; // Insert only inner content
							}
						});
				</script>
			</div>
		</div>
    </body>
</html>
